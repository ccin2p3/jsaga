<?xml version="1.0" encoding="UTF-8"?>
<ext:JobCollection xmlns:ext="http://www.in2p3.fr/jsdl-extension">
    <ext:JobCollectionDescription>
        <ext:JobCollectionIdentification>
            <ext:JobCollectionName>test_staging</ext:JobCollectionName>
        </ext:JobCollectionIdentification>
        <ext:Parametric count="6" start="1" step="1"/>
    </ext:JobCollectionDescription>
    <ext:Job>
        <JobDefinition xmlns="http://schemas.ggf.org/jsdl/2005/11/jsdl">
            <JobDescription>
                <JobIdentification>
                    <JobName>MYJOB_@{INDEX}</JobName>
                </JobIdentification>
                <Application>
                    <posix:POSIXApplication xmlns:posix="http://schemas.ggf.org/jsdl/2005/11/jsdl-posix">
                        <posix:Executable>$E</posix:Executable>
                        <posix:Argument>-c0 $C0</posix:Argument>
                        <posix:Argument>-c1 $C1</posix:Argument>
                        <posix:Argument>-c2 $C2</posix:Argument>
                        <posix:Input>$D</posix:Input>
                        <posix:Output>$R</posix:Output>
                        <posix:Error>$STDERR</posix:Error>
                    </posix:POSIXApplication>
                </Application>
                <DataStaging name="C0">
                    <FileName>config0.cfg</FileName>
                    <CreationFlag>overwrite</CreationFlag>
                    <Source><URI>file:///tmp/config0.cfg</URI></Source>
                </DataStaging>
                <DataStaging name="C1">
                    <FileName>config1.cfg</FileName>
                    <CreationFlag>overwrite</CreationFlag>
                    <Source><URI>https://host2:8443/private/configuration/config1.cfg#TEST_X509</URI></Source>
                </DataStaging>
                <DataStaging name="C2">
                    <FileName>config2.cfg</FileName>
                    <CreationFlag>overwrite</CreationFlag>
                    <Source><URI>http://host5:8080/public/configuration/config2.cfg</URI></Source>
                </DataStaging>
                <DataStaging name="E">
                    <FileName>HelloWorld/1.1/bin/executable.exe</FileName>
                    <FilesystemName>ApplicationsDirectory</FilesystemName>
                    <CreationFlag>dontOverwrite</CreationFlag>
                    <Source/>
                </DataStaging>
                <DataStaging name="E">
                    <FileName>executable-src/bin/executable.exe</FileName>
                    <CreationFlag>overwrite</CreationFlag>
                    <Source>
                        <URI>gsiftp://host3:2811/repository/src/executable-src.tar.gz#EGEE_proxy</URI>
                        <ext:Process>tar xzvf $@ ; cd executable-src ; make</ext:Process>
                    </Source>
                </DataStaging>
                <DataStaging name="D">
                    <FileName>data.dat</FileName>
                    <CreationFlag>overwrite</CreationFlag>
                    <Source><URI>gsiftp://host4:2811/data/data_@{INDEX}.dat#OpenPlast_proxy</URI></Source>
                </DataStaging>
                <DataStaging name="R">
                    <FileName>result.dat</FileName>
                    <CreationFlag>overwrite</CreationFlag>
                    <Target><URI>mail://sreynaud@in2p3.fr/result_@{INDEX}.dat</URI></Target>
                </DataStaging>
                <DataStaging name="STDERR">
                    <FileName>stderr.txt</FileName>
                    <CreationFlag>overwrite</CreationFlag>
                    <Target><URI>file:///tmp/stderr_@{INDEX}.txt</URI></Target>
                </DataStaging>
            </JobDescription>
        </JobDefinition>
    </ext:Job>
</ext:JobCollection>